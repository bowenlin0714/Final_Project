{"version":3,"sources":["webpack:///./src/views/Shopcar.vue?1f48","webpack:///src/views/Shopcar.vue","webpack:///./src/views/Shopcar.vue?f213","webpack:///./src/views/Shopcar.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","breads","_v","cartproducts","fields","scopedSlots","_u","key","fn","data","on","changeSelect","model","value","item","callback","$$v","$set","expression","p_id","src","amount","$event","changeamount","_s","countPrice","price","delshopitem","index","length","_e","total","tostep2","howtosend","order","shipping","howtopay","user","payaccount","name","phone","checkedit","method","tostep1","buy","staticRenderFns","components","address","note","isedit","step1","step2","step3","images","computed","$store","state","shopcar","i","onsale","methods","commit","axios","patch","splice","$swal","fire","toast","position","padding","icon","title","showConfirmButton","timer","isBan","width","showDenyButton","showCancelButton","denyButtonText","confirmButtonText","result","isConfirmed","orders","push","date","where","shipment","ispaid","products","product","select","lastbuydate","sold","mounted","get","image","component"],"mappings":"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","file":"js/shopcar.ff06a5ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"shopcar\"}},[_c('b-container',{staticClass:\"shadow\",staticStyle:{\"min-height\":\"68vh\"}},[_c('b-row',[_c('b-breadcrumb',{staticClass:\"mt-2 ml-3\",attrs:{\"items\":_vm.breads}}),(_vm.step1)?_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"mx-auto d-flex justify-content-around align-items-center\",attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('div',{staticClass:\"step\"},[_c('p',[_vm._v(\"1\")])]),_c('font-awesome-icon',{staticClass:\"h3 m-0\",attrs:{\"icon\":[\"fas\",\"arrow-alt-circle-right\"]}}),_c('div',{staticClass:\"step \"},[_c('p',[_vm._v(\"2\")])]),_c('font-awesome-icon',{staticClass:\"h3 m-0\",attrs:{\"icon\":[\"fas\",\"arrow-alt-circle-right\"]}}),_c('div',{staticClass:\"step \"},[_c('p',[_vm._v(\"3\")])])],1)],1)],1),_c('hr'),_c('div',{staticClass:\"bg-white pb-3\"},[_c('b-table',{staticClass:\"mx-auto  text-center rounded mt-3 p-5\",attrs:{\"stacked\":\"md\",\"id\":\"formstable\",\"items\":_vm.cartproducts,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(selected)\",fn:function(data){return [_c('b-form-checkbox',{on:{\"change\":_vm.changeSelect},model:{value:(data.item.select),callback:function ($$v) {_vm.$set(data.item, \"select\", $$v)},expression:\"data.item.select\"}})]}},{key:\"cell(img)\",fn:function(data){return [_c('img',{attrs:{\"src\":data.item.p_id.src}})]}},{key:\"cell(amount)\",fn:function(data){return [_c('b-form-spinbutton',{attrs:{\"size\":\"sm\",\"id\":\"amount\",\"min\":\"1\",\"max\":data.item.p_id.amount},on:{\"change\":function($event){return _vm.changeamount(data)}},model:{value:(data.item.amount),callback:function ($$v) {_vm.$set(data.item, \"amount\", $$v)},expression:\"data.item.amount\"}})]}},{key:\"cell(price)\",fn:function(data){return [(data.item.p_id.onsale)?_c('p',{staticClass:\"text-danger p-0 m-0\"},[_vm._v(_vm._s(data.item.p_id.countPrice))]):_c('p',{staticClass:\"p-0 m-0\"},[_vm._v(_vm._s(data.item.p_id.price))])]}},{key:\"cell(total)\",fn:function(data){return [(data.item.p_id.onsale)?_c('p',{staticClass:\"p-0 m-0\"},[_vm._v(_vm._s(data.item.amount * data.item.p_id.countPrice))]):_c('p',{staticClass:\"p-0 m-0\"},[_vm._v(_vm._s(data.item.amount * data.item.p_id.price))])]}},{key:\"cell(delete)\",fn:function(data){return [_c('b-button',{staticStyle:{\"background\":\"transparent\"},on:{\"click\":function($event){return _vm.delshopitem(data.index)}}},[_c('font-awesome-icon',{staticClass:\"text-danger h3 m-0\",attrs:{\"icon\":[\"fas\",\"trash-alt\"]}})],1)]}}],null,false,2553173766)}),(_vm.cartproducts.length === 0)?_c('P',{staticClass:\"text-center my-5\"},[_vm._v(\"目前沒有商品\")]):_vm._e()],1),_c('hr'),_c('b-row',[_c('b-col',{staticClass:\"steps ml-auto\",attrs:{\"cols\":\"12\",\"lg\":\"5\"}},[_c('p',{staticClass:\"h4 mb-3\"},[_vm._v(\"總計: $\"+_vm._s(_vm.total))]),_c('div',{staticClass:\"d-flex\"},[_c('b-button',{staticClass:\"next mb-3 w-100\",attrs:{\"to\":\"/products\"}},[_vm._v(\"回商品列表\")]),_c('b-button',{staticClass:\"next mb-3 w-100 ml-5\",on:{\"click\":_vm.tostep2}},[_vm._v(\"下一步\")])],1)])],1)],1):_vm._e(),(_vm.step2)?_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"mx-auto d-flex justify-content-around align-items-center\",attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('div',{staticClass:\"step step2\"},[_c('p',[_vm._v(\"1\")])]),_c('font-awesome-icon',{staticClass:\"h3 m-0\",attrs:{\"icon\":[\"fas\",\"arrow-alt-circle-right\"]}}),_c('div',{staticClass:\"step step2\"},[_c('p',[_vm._v(\"2\")])]),_c('font-awesome-icon',{staticClass:\"h3 m-0\",attrs:{\"icon\":[\"fas\",\"arrow-alt-circle-right\"]}}),_c('div',{staticClass:\"step step2\"},[_c('p',[_vm._v(\"3\")])])],1)],1)],1),_c('hr'),(_vm.step2)?_c('b-form',{staticClass:\"bg-white p-3\"},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('font-awesome-icon',{staticClass:\"h5 m-0\",attrs:{\"icon\":[\"fas\",\"truck\"]}}),_c('h5',{staticClass:\"d-inline ml-2\"},[_vm._v(\"運送方式 :\")]),_c('b-form-group',{staticClass:\"mt-3 ml-3\"},[_c('b-form-radio-group',{staticClass:\"mb-2\",attrs:{\"id\":\"order1\",\"stacked\":\"\",\"name\":\"order1\",\"options\":_vm.howtosend},model:{value:(_vm.order.howtosend),callback:function ($$v) {_vm.$set(_vm.order, \"howtosend\", $$v)},expression:\"order.howtosend\"}}),( _vm.order.howtosend.shipping === 100 || _vm.order.howtosend.shipping === 120)?_c('div',{staticClass:\"ml-4\"}):_vm._e(),( _vm.order.howtosend.shipping === 20 || _vm.order.howtosend.shipping === 30 || _vm.order.howtosend.shipping === 80 || _vm.order.howtosend.shipping === 70)?_c('b-form-input',{attrs:{\"placeholder\":\"門市 \"},model:{value:(_vm.order.howtosend.where),callback:function ($$v) {_vm.$set(_vm.order.howtosend, \"where\", $$v)},expression:\"order.howtosend.where\"}}):_vm._e(),( _vm.order.howtosend.shipping === 120 || _vm.order.howtosend.shipping === 100 )?_c('b-form-input',{attrs:{\"placeholder\":\"地址\"},model:{value:(_vm.order.howtosend.where),callback:function ($$v) {_vm.$set(_vm.order.howtosend, \"where\", $$v)},expression:\"order.howtosend.where\"}}):_vm._e()],1),_c('font-awesome-icon',{staticClass:\"h5 m-0\",attrs:{\"icon\":[\"fas\",\"money-bill\"]}}),_c('h5',{staticClass:\"d-inline ml-2\"},[_vm._v(\"付款方式 :\")]),(_vm.order.howtosend.shipping === 0 || _vm.order.howtosend.shipping === 100 || _vm.order.howtosend.shipping === 120 || _vm.order.howtosend.shipping === 30 || _vm.order.howtosend.shipping === 20)?_c('b-form-group',{staticClass:\"ml-3 mt-3\"},[_c('b-form-radio',{attrs:{\"value\":\"Line Pay\",\"name\":\"order2\"},model:{value:(_vm.order.howtosend.howtopay),callback:function ($$v) {_vm.$set(_vm.order.howtosend, \"howtopay\", $$v)},expression:\"order.howtosend.howtopay\"}},[_vm._v(\"Line Pay\")]),_c('b-form-radio',{attrs:{\"value\":\"銀行轉帳\",\"name\":\"order2\"},model:{value:(_vm.order.howtosend.howtopay),callback:function ($$v) {_vm.$set(_vm.order.howtosend, \"howtopay\", $$v)},expression:\"order.howtosend.howtopay\"}},[_vm._v(\"轉帳\"),(_vm.order.howtosend.howtopay === '銀行轉帳' && _vm.user.payaccount === '')?_c('b-form-input',{staticClass:\"my-1\",attrs:{\"size\":\"sm\"},model:{value:(_vm.order.payaccount),callback:function ($$v) {_vm.$set(_vm.order, \"payaccount\", $$v)},expression:\"order.payaccount\"}}):_vm._e(),(_vm.order.howtosend.howtopay === '銀行轉帳' && _vm.user.payaccount !== '')?_c('p',{staticClass:\"m-0 my-2\"},[_vm._v(_vm._s(_vm.user.payaccount))]):_vm._e()],1),_c('b-form-radio',{staticClass:\"mb-2\",attrs:{\"value\":\"PChomePay\",\"name\":\"order2\"},model:{value:(_vm.order.howtosend.howtopay),callback:function ($$v) {_vm.$set(_vm.order.howtosend, \"howtopay\", $$v)},expression:\"order.howtosend.howtopay\"}},[_vm._v(\"PChomePay\")])],1):_c('p',{staticClass:\"ml-3 mt-3\"},[_vm._v(\" 貨到付款無需選擇付款方式\")])],1),_c('b-col',{attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('font-awesome-icon',{staticClass:\"h5 m-0\",attrs:{\"icon\":[\"fas\",\"user-astronaut\"]}}),_c('h5',{staticClass:\"d-inline ml-2\"},[_vm._v(\"收件人資訊 :\")]),_c('div',{staticClass:\"d-flex mt-3 ml-3\"},[_c('p',{staticClass:\"mr-2 mb-0\"},[_vm._v(\"姓名 :\")]),(_vm.isedit)?_c('b-form-input',{staticClass:\"w-25\",attrs:{\"size\":\"sm\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}}):_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.user.name))])],1),_c('div',{staticClass:\"d-flex mt-4 ml-3\"},[_c('p',{staticClass:\"mr-2 m-0\"},[_vm._v(\"電話 :\")]),(_vm.isedit)?_c('b-form-input',{staticClass:\"w-25\",attrs:{\"size\":\"sm\"},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}}):_c('p',{staticClass:\"m-0\"},[_vm._v(\" \"+_vm._s(_vm.user.phone))])],1),_c('b-button',{staticClass:\"d-block my-3 ml-3\",staticStyle:{\"font-size\":\"0.8rem\"},attrs:{\"size\":\"sm\"},on:{\"click\":_vm.checkedit}},[(_vm.isedit)?_c('p',{staticClass:\"m-0\"},[_vm._v(\"確定\")]):_c('p',{staticClass:\"my-1 w-100\"},[_vm._v(\"修改收件資訊\")])]),_c('font-awesome-icon',{staticClass:\"h5 m-0\",attrs:{\"icon\":[\"fas\",\"sticky-note\"]}}),_c('label',{staticClass:\"w-100 d-inline h5 ml-2\"},[_vm._v(\"備註 :\"),_c('b-form-textarea',{staticClass:\"w-100 mt-3\",attrs:{\"rows\":\"5\",\"placeholder\":\"請輸入\"},model:{value:(_vm.order.note),callback:function ($$v) {_vm.$set(_vm.order, \"note\", $$v)},expression:\"order.note\"}})],1)],1)],1)],1):_vm._e(),_c('hr'),_c('b-row',[_c('b-col',{staticClass:\"ml-auto text-right\",attrs:{\"cols\":\"12\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.order.howtosend.method)+\" \"+_vm._s(_vm.order.howtosend.howtopay))]),_c('p',[_vm._v(\"運費: $\"+_vm._s(_vm.order.howtosend.shipping))]),_c('p',{staticClass:\"h3 mb-3\"},[_vm._v(\"總計: $\"+_vm._s(_vm.total + _vm.order.howtosend.shipping))]),_c('div',[_c('b-row',[_c('b-col',{staticClass:\"ml-auto\",attrs:{\"cols\":\"12\",\"lg\":\"5\"}},[_c('div',{staticClass:\"d-flex\"},[_c('b-button',{staticClass:\"mb-3 w-100\",on:{\"click\":_vm.tostep1}},[_vm._v(\"上一步\")]),_c('b-button',{staticClass:\"next mb-3 w-100 ml-5\",on:{\"click\":function($event){return _vm.buy(_vm.user)}}},[_vm._v(\" 確定購買\")])],1)])],1)],1)])],1)],1):_vm._e(),(_vm.step3)?_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"mx-auto d-flex justify-content-around align-items-center\",attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('div',{staticClass:\"step step3\"},[_c('p',[_vm._v(\"1\")])]),_c('font-awesome-icon',{staticClass:\"h3 m-0\",attrs:{\"icon\":[\"fas\",\"arrow-alt-circle-right\"]}}),_c('div',{staticClass:\"step step3\"},[_c('p',[_vm._v(\"2\")])]),_c('font-awesome-icon',{staticClass:\"h3 m-0\",attrs:{\"icon\":[\"fas\",\"arrow-alt-circle-right\"]}}),_c('div',{staticClass:\"step step3\"},[_c('p',[_vm._v(\"3\")])])],1)],1)],1),_c('hr'),_c('div',{staticClass:\"thank d-flex justify-content-center align-items-center rounded\"},[_c('div',[_c('p',{staticClass:\"m-0\"},[_vm._v(\"謝謝您的購買與支持\")]),_c('p',[_vm._v(\"Thank You !\")]),_c('p',[_vm._v(\"收到商品後有任何問題,請盡量於三天內與我們聯繫,我們會盡快為您處理\")]),_c('p',[_vm._v(\"電話 : 0988555555 (02)2300-9966\")])])]),_c('hr'),_c('b-col',{staticClass:\"steps ml-auto\",attrs:{\"cols\":\"12\",\"lg\":\"5\"}},[_c('div',{staticClass:\"d-flex\"},[_c('b-button',{staticClass:\"next mb-3 w-100\",attrs:{\"to\":\"/\"}},[_vm._v(\"回首頁\")]),_c('b-button',{staticClass:\"next mb-3 w-100 ml-5\",attrs:{\"to\":\"/products\"}},[_vm._v(\"繼續購買\")])],1)])],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  #shopcar\n    b-container(style=\"min-height:68vh\").shadow\n      b-row\n        b-breadcrumb(:items=\"breads\").mt-2.ml-3\n        b-col(cols=\"12\" v-if=\"step1\")\n          b-container()\n            b-row\n              b-col(cols=\"12\" lg=\"6\").mx-auto.d-flex.justify-content-around.align-items-center\n                div(class=\"step\" )\n                  p 1\n                font-awesome-icon( :icon=['fas', 'arrow-alt-circle-right'] ).h3.m-0\n                div(class=\"step \" )\n                  p 2\n                font-awesome-icon( :icon=['fas', 'arrow-alt-circle-right'] ).h3.m-0\n                div(class=\"step \" )\n                  p 3\n          hr\n          div.bg-white.pb-3\n            b-table(\n              stacked=\"md\"\n              id=\"formstable\"\n              class=\"mx-auto  text-center\"\n              :items='cartproducts'\n              style=\"\"\n              :fields='fields'\n            ).rounded.mt-3.p-5\n              template(#cell(selected)='data' )\n                b-form-checkbox(v-model=\"data.item.select\" @change=\"changeSelect\")\n              template(#cell(img)='data' )\n                img(:src=\"data.item.p_id.src\")\n              template(#cell(amount)='data')\n                b-form-spinbutton(\n                  v-model=\"data.item.amount\"\n                  size=\"sm\"\n                  id=\"amount\"\n                  min=\"1\"\n                  :max=\"data.item.p_id.amount\"\n                  @change=\"changeamount(data)\"\n                )\n              template(#cell(price)='data')\n                p(v-if=\"data.item.p_id.onsale\").text-danger.p-0.m-0 {{ data.item.p_id.countPrice }}\n                p(v-else).p-0.m-0 {{ data.item.p_id.price }}\n              template(#cell(total)='data')\n                p(v-if=\"data.item.p_id.onsale\").p-0.m-0 {{data.item.amount * data.item.p_id.countPrice}}\n                p(v-else).p-0.m-0 {{data.item.amount * data.item.p_id.price}}\n              template(#cell(delete)='data')\n                b-button(style=\"background:transparent\" @click=\"delshopitem(data.index)\")\n                  font-awesome-icon( :icon=['fas', 'trash-alt'] ).text-danger.h3.m-0\n            P(v-if=\"cartproducts.length === 0\").text-center.my-5 目前沒有商品\n          hr\n          b-row\n            b-col(cols=\"12\" lg=\"5\" class=\"steps\").ml-auto\n              p.h4.mb-3 總計: ${{total }}\n              div.d-flex\n                b-button(class=\"next\" to=\"/products\").mb-3.w-100 回商品列表\n                b-button(class=\"next\" @click=\"tostep2\").mb-3.w-100.ml-5 下一步\n\n        //- 第二步\n        b-col(cols=\"12\" v-if=\"step2\")\n          b-container()\n            b-row\n              b-col(cols=\"12\" lg=\"6\").mx-auto.d-flex.justify-content-around.align-items-center\n                div(class=\"step step2\" )\n                  p 1\n                font-awesome-icon( :icon=['fas', 'arrow-alt-circle-right'] ).h3.m-0\n                div(class=\"step step2\" )\n                  p 2\n                font-awesome-icon( :icon=['fas', 'arrow-alt-circle-right'] ).h3.m-0\n                div(class=\"step step2\" )\n                  p 3\n          hr\n          b-form(v-if=\"step2\").bg-white.p-3\n            b-row\n              b-col(cols=\"6\")\n                font-awesome-icon( :icon=['fas', 'truck'] ).h5.m-0\n                h5.d-inline.ml-2 運送方式 :\n                b-form-group.mt-3.ml-3\n                  b-form-radio-group(\n                      id=\"order1\"\n                      stacked\n                      v-model=\"order.howtosend\"\n                      name=\"order1\"\n                      :options=\"howtosend\"\n                      ).mb-2\n                  div(v-if=\" order.howtosend.shipping === 100 || order.howtosend.shipping === 120\").ml-4\n\n                  b-form-input(v-if=\" order.howtosend.shipping === 20 || order.howtosend.shipping === 30 || order.howtosend.shipping === 80 || order.howtosend.shipping === 70\" placeholder=\"門市 \" v-model=\"order.howtosend.where\")\n                  b-form-input(v-if=\" order.howtosend.shipping === 120 || order.howtosend.shipping === 100 \" placeholder=\"地址\" v-model=\"order.howtosend.where\" )\n\n                font-awesome-icon( :icon=['fas', 'money-bill'] ).h5.m-0\n                h5.d-inline.ml-2 付款方式 :\n                b-form-group(v-if=\"order.howtosend.shipping === 0 || order.howtosend.shipping === 100 || order.howtosend.shipping === 120 || order.howtosend.shipping === 30 || order.howtosend.shipping === 20\" ).ml-3.mt-3\n                  b-form-radio(v-model=\"order.howtosend.howtopay\" value=\"Line Pay\" name=\"order2\" ) Line Pay\n                  b-form-radio(v-model=\"order.howtosend.howtopay\" value=\"銀行轉帳\" name=\"order2\") 轉帳\n                    b-form-input(size=\"sm\" v-if=\"order.howtosend.howtopay === '銀行轉帳' && user.payaccount === ''\" v-model=\"order.payaccount\").my-1\n                    p(v-if=\"order.howtosend.howtopay === '銀行轉帳' && user.payaccount !== ''\").m-0.my-2 {{user.payaccount}}\n                  b-form-radio(v-model=\"order.howtosend.howtopay\" value=\"PChomePay\" name=\"order2\").mb-2 PChomePay\n                p(v-else).ml-3.mt-3  貨到付款無需選擇付款方式\n              b-col(cols=\"12\" lg=\"6\")\n                font-awesome-icon( :icon=['fas', 'user-astronaut'] ).h5.m-0\n                h5.d-inline.ml-2 收件人資訊 :\n\n                div.d-flex.mt-3.ml-3\n                  p.mr-2.mb-0 姓名 :\n                  b-form-input( v-model=\"user.name\" size=\"sm\" v-if=\"isedit\"  ).w-25\n                  p(v-else).mb-0 {{user.name}}\n                div.d-flex.mt-4.ml-3\n                  p.mr-2.m-0 電話 :\n                  b-form-input( v-model=\"user.phone\" size=\"sm\" v-if=\"isedit\").w-25\n                  p(v-else).m-0  {{user.phone}}\n                b-button( size=\"sm\" style=\"font-size: 0.8rem\" @click=\"checkedit\").d-block.my-3.ml-3\n                  p( v-if=\"isedit\").m-0 確定\n                  p( v-else).my-1.w-100 修改收件資訊\n                font-awesome-icon( :icon=['fas', 'sticky-note'] ).h5.m-0\n                label.w-100.d-inline.h5.ml-2 備註 :\n                  b-form-textarea(rows=\"5\" v-model=\"order.note\" placeholder=\"請輸入\").w-100.mt-3\n          hr\n          b-row\n            b-col(cols=\"12\").ml-auto.text-right\n              p   {{order.howtosend.method}} {{order.howtosend.howtopay}}\n              p 運費: ${{order.howtosend.shipping}}\n              p.h3.mb-3 總計: ${{total + order.howtosend.shipping}}\n              div\n                b-row\n                  b-col(cols=\"12\" lg=\"5\").ml-auto\n                    div.d-flex\n                      b-button(class=\"\" @click=\"tostep1\").mb-3.w-100 上一步\n                      b-button(class=\"next\" @click=\"buy(user)\").mb-3.w-100.ml-5  確定購買\n\n        b-col(cols=\"12\" v-if=\"step3\")\n          b-container()\n            b-row\n              b-col(cols=\"12\" lg=\"6\").mx-auto.d-flex.justify-content-around.align-items-center\n                div(class=\"step step3\" )\n                  p 1\n                font-awesome-icon( :icon=['fas', 'arrow-alt-circle-right'] ).h3.m-0\n                div(class=\"step step3\" )\n                  p 2\n                font-awesome-icon( :icon=['fas', 'arrow-alt-circle-right'] ).h3.m-0\n                div(class=\"step step3\" )\n                  p 3\n          hr\n          div(class=\"thank\").d-flex.justify-content-center.align-items-center.rounded\n            div\n              p.m-0 謝謝您的購買與支持\n              p Thank You !\n              p 收到商品後有任何問題,請盡量於三天內與我們聯繫,我們會盡快為您處理\n              p 電話 : 0988555555 (02)2300-9966\n          hr\n          b-col(cols=\"12\" lg=\"5\" class=\"steps\").ml-auto\n            div.d-flex\n              b-button(class=\"next\" to=\"/\").mb-3.w-100 回首頁\n              b-button(class=\"next\" to=\"/products\").mb-3.w-100.ml-5 繼續購買\n</template>\n\n<script>\nexport default {\n  components: {\n\n  },\n  name: 'Home',\n  data () {\n    return {\n      order: {\n        howtosend: { method: null, howtopay: null, shipping: 0, where: null },\n        address: '',\n        note: '',\n        payaccount: ''\n      },\n      howtosend: [\n        { text: '7-11 取貨付款 80 元', value: { method: '7-11 ', howtopay: '取貨付款', shipping: 80 } },\n        { text: '7-11 取貨 30 元', value: { method: '7-11 ', howtopay: '取貨', shipping: 30 } },\n        { text: '全家 取貨付款 70 元', value: { method: '全家 ', howtopay: '取貨付款', shipping: 70 } },\n        { text: '全家 取貨 20 元', value: { method: '全家', howtopay: '取貨', shipping: 20 } },\n        { text: '黑貓宅急便 120元', value: { method: '黑貓宅急便', shipping: 120 } },\n        { text: '郵寄 100元', value: { method: '郵寄', shipping: 100 } },\n        { text: '自取', value: { method: '自取', shipping: 0, where: null } }\n      ],\n      isedit: false,\n      step1: true,\n      step2: false,\n      step3: false,\n      amount: 1,\n      images: [],\n      breads: [\n        {\n          text: '首頁',\n          to: '/'\n        },\n        {\n          text: '購物車',\n          active: true\n        }\n      ],\n      fields: [\n        {\n          key: 'selected',\n          label: ''\n        },\n        {\n          key: 'p_id.productNumber',\n          label: '商品編號'\n        },\n        {\n          key: 'img',\n          label: '圖片'\n        },\n        {\n          key: 'p_id.name',\n          label: '商品名稱'\n        },\n        {\n          key: 'price',\n          label: '價格'\n        },\n        {\n          key: 'amount',\n          label: '數量'\n        },\n        {\n          key: 'total',\n          label: '小計'\n        },\n        {\n          key: 'delete',\n          label: '刪除'\n        }\n\n      ]\n    }\n  },\n  computed: {\n    user () {\n      return this.$store.state.user\n    },\n    cartproducts () {\n      return this.$store.state.user.shopcar\n    },\n    total () {\n      var total = 0\n      for (var i = 0; i < this.cartproducts.length; i++) {\n        var item = this.cartproducts[i]\n        if (item.p_id.onsale === false) {\n          total += item.p_id.price * item.amount\n        } else {\n          total += item.p_id.countPrice * item.amount\n        }\n      }\n      return total\n    }\n  },\n  methods: {\n    changeSelect () {\n      this.$store.commit('changeSelect', this.user)\n      this.axios.patch(process.env.VUE_APP_API + '/users/edit/' + this.user.id, {\n        shopcar: this.cartproducts\n      }).then(res => {\n      })\n    },\n    changeamount (data) {\n      this.axios.patch(process.env.VUE_APP_API + '/users/edit/' + this.user.id, {\n        shopcar: this.cartproducts\n      }).then(res => {\n      })\n    },\n    checkedit () {\n      this.isedit = !this.isedit\n    },\n    delshopitem (index) {\n      this.$store.state.user.shopcar.splice(index, 1)\n      this.axios.patch(process.env.VUE_APP_API + '/users/edit/' + this.$store.state.user.id, {\n        shopcar: this.$store.state.user.shopcar\n      }).then(res => {\n        // this.$store.state.user.shopcar =\n      })\n    },\n    tostep1 () {\n      this.step1 = true\n      this.step2 = false\n    },\n    tostep2 () {\n      if (this.cartproducts.length === 0) {\n        this.$swal.fire({\n          toast: true,\n          position: 'bottom-start',\n          padding: '1rem',\n          icon: 'warning',\n          title: '購物車沒有商品',\n          showConfirmButton: false,\n          timer: 3000\n        })\n      } else {\n        this.step1 = false\n        this.step2 = true\n      }\n    },\n    buy (user) {\n      if (user.isBan === true) {\n        this.$swal.fire({\n          toast: true,\n          position: 'bottom-start',\n          padding: '1rem',\n          icon: 'error',\n          title: '封鎖中，欲解鎖請洽客服',\n          showConfirmButton: false,\n          timer: 3000\n        })\n      } else {\n        if (this.cartproducts.length === 0) {\n          this.$swal.fire({\n            toast: true,\n            position: 'bottom-start',\n            padding: '1rem',\n            icon: 'warning',\n            title: '購物車沒有商品',\n            showConfirmButton: false,\n            timer: 3000\n          })\n        } else {\n          this.$swal.fire({\n            width: '20rem',\n            padding: '1rem',\n            title: '確認購買',\n            showDenyButton: true,\n            showCancelButton: false,\n            denyButtonText: '取消',\n            confirmButtonText: '確定'\n          }).then(result => {\n            if (result.isConfirmed) {\n              this.step3 = true\n              this.step1 = false\n              this.step2 = false\n              const now = new Date()\n              const year = now.getFullYear()\n              const month = now.getMonth() - 1\n              const day = now.getDate()\n\n              const name = this.user.name\n              const phone = this.user.phone\n              const date = year + '/' + month + '/' + day\n              const where = this.order.howtosend.where\n              const method = this.order.howtosend.method\n              const howtopay = this.order.howtosend.howtopay\n              var payaccount = ''\n              if (this.order.howtosend.howtopay === '銀行轉帳' && user.payaccount !== '') {\n                payaccount = this.user.payaccount\n              } else {\n                payaccount = this.order.payaccount\n              }\n              const note = this.order.note\n              const shipping = this.order.howtosend.shipping\n              const total = this.total + this.order.howtosend.shipping\n\n              user.orders.push({\n                name: name,\n                phone: phone,\n                date: date,\n                where: where,\n                method: method,\n                payaccount: payaccount,\n                howtopay: howtopay,\n                shipment: '未出貨',\n                ispaid: false,\n                note: note,\n                shipping: shipping,\n                total: total,\n                products: this.cartproducts.filter(product => {\n                  return product.select === true\n                })\n\n              })\n              this.axios.patch(process.env.VUE_APP_API + '/users/edit/' + user.id, {\n                lastbuydate: date,\n                orders: user.orders\n              }).then(res => {\n                for (let i = 0; i < user.shopcar.length; i++) {\n                  this.axios.patch(process.env.VUE_APP_API + '/products/edit/' + user.shopcar[i].p_id._id, {\n                    amount: user.shopcar[i].p_id.amount -= user.shopcar[i].amount,\n                    sold: user.shopcar[i].p_id.sold += user.shopcar[i].amount\n                  }).then(res => {\n                    this.axios.patch(process.env.VUE_APP_API + '/users/edit/' + user.id, {\n                      shopcar: this.cartproducts.filter(product => {\n                        return product.select !== true\n                      })\n                    }).then(res => {\n                      this.$store.commit('cartproducts', this.cartproducts.filter(product => {\n                        return product.select !== true\n                      }))\n                    })\n                  })\n                }\n              })\n            }\n          })\n        }\n      }\n    }\n  },\n  mounted () {\n    this.axios.get(process.env.VUE_APP_API + '/users/' + this.$store.state.user.id).then((res) => {\n      this.images = res.data.result.shopcar.map(image => {\n        image.p_id.src = process.env.VUE_APP_API + '/products/' + image.p_id.images[0].file\n        return image\n      })\n      var data = this.images\n      this.$store.commit('cartproducts', data)\n    })\n  }\n}\n</script>\n<style lang=\"stylus\">\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopcar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopcar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shopcar.vue?vue&type=template&id=2393791a&lang=pug&\"\nimport script from \"./Shopcar.vue?vue&type=script&lang=js&\"\nexport * from \"./Shopcar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
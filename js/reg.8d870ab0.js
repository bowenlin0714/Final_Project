(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reg"],{2532:function(e,a,t){"use strict";var r=t("23e7"),s=t("5a34"),i=t("1d80"),n=t("ab13");r({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(i(this)).indexOf(s(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,a,t){var r=t("861d"),s=t("c6b6"),i=t("b622"),n=i("match");e.exports=function(e){var a;return r(e)&&(void 0!==(a=e[n])?!!a:"RegExp"==s(e))}},"5a34":function(e,a,t){var r=t("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},a15b:function(e,a,t){"use strict";var r=t("23e7"),s=t("44ad"),i=t("fc6a"),n=t("a640"),o=[].join,l=s!=Object,c=n("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return o.call(i(this),void 0===e?",":e)}})},ab13:function(e,a,t){var r=t("b622"),s=r("match");e.exports=function(e){var a=/./;try{"/./"[e](a)}catch(t){try{return a[s]=!1,"/./"[e](a)}catch(r){}}return!1}},b8b8:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"reg"}},[t("b-container",{staticClass:"shadow"},[t("b-row",[t("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[t("b-breadcrumb",{staticClass:"mt-2",attrs:{items:e.breads}}),t("b-container",[t("b-row",{staticClass:"mb-3"},[t("b-col",{staticClass:"bg-dark ml-auto shadow left p-5",attrs:{cols:"12",lg:"4"}},[t("div",{staticStyle:{width:"75%"}},[t("h2",[e._v("歡迎加入")]),t("h2",[e._v("BUYFIG")]),t("p",[e._v("填寫註冊資料之後按註冊，成功之後登入就可以開始購物嘍")])])]),t("b-col",{staticClass:"border mr-auto bg-white shadow",attrs:{cols:"12",lg:"6"}},[t("div",{staticClass:"p-4"},[t("h3",{staticClass:"text-center"},[e._v("Sign Up")]),t("b-form",{staticClass:"mt-4",on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),e.onSubmit(a)}}},[t("b-form-group",{attrs:{label:"姓名 :","label-for":"name"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:1},expression:"{ required: true, min:1 }"}],attrs:{name:"name",placeholder:"name",state:e.validateState("name"),"data-vv-as":"姓名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),t("b-form-invalid-feedback",{staticClass:"mb-3"},[e._v(e._s(e.veeErrors.first("name")))])],1),t("b-row",[t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{label:"帳號 :","label-for":"account"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:4},expression:"{ required: true, min:4 }"}],attrs:{name:"account",placeholder:"account",state:e.validateState("account"),"data-vv-as":"帳號"},model:{value:e.account,callback:function(a){e.account=a},expression:"account"}}),t("b-form-invalid-feedback",{staticClass:"mb-3"},[e._v(e._s(e.veeErrors.first("account")))])],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{label:"密碼 :","label-for":"password"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:4},expression:"{ required: true, min:4 }"}],attrs:{type:"password",name:"password",placeholder:"password",state:e.validateState("password"),"data-vv-as":"密碼"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),t("b-form-invalid-feedback",{staticClass:"mb-3"},[e._v(e._s(e.veeErrors.first("password")))])],1)],1)],1),t("b-row",[t("b-col",{attrs:{cols:"6"}},[t("b-form-group",{attrs:{label:"email :","label-for":"email"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{ required: true, email: true }"}],attrs:{name:"email",placeholder:"email",state:e.validateState("email"),"data-vv-as":"e-mail"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("b-form-invalid-feedback",{staticClass:"mb-3"},[e._v(e._s(e.veeErrors.first("email")))])],1)],1),t("b-col",{attrs:{cols:"6"}},[t("b-form-group",{attrs:{label:"手機 :","label-for":"phone"}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,phone:e.phone},expression:"{ required: true, phone }"}],attrs:{name:"phone",placeholder:"phone",state:e.validateState("phone"),"data-vv-as":"手機"},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}}),t("b-form-invalid-feedback",{staticClass:"mb-3"},[e._v(e._s(e.veeErrors.first("phone")))])],1)],1)],1),t("b-form-group",{attrs:{label:"匯款帳戶 : 選填","label-for":"payaccount"}},[t("b-form-input",{attrs:{name:"payaccount",placeholder:"Remittance account"},model:{value:e.payaccount,callback:function(a){e.payaccount=a},expression:"payaccount"}})],1),e.isAdmin?t("input",{directives:[{name:"model",rawName:"v-model",value:e.isAdmin,expression:"isAdmin"}],attrs:{type:"checkbox",checked:"",value:"lll","true-value":!0,"true-false":!1},domProps:{checked:Array.isArray(e.isAdmin)?e._i(e.isAdmin,"lll")>-1:e.isAdmin},on:{change:function(a){var t=e.isAdmin,r=a.target,s=!!r.checked;if(Array.isArray(t)){var i="lll",n=e._i(t,i);r.checked?n<0&&(e.isAdmin=t.concat([i])):n>-1&&(e.isAdmin=t.slice(0,n).concat(t.slice(n+1)))}else e.isAdmin=s}}}):e._e(),t("br"),t("b-col",{staticClass:"mx-auto",attrs:{cols:"12",lg:"10"}},[t("b-button",{staticClass:"py-2 shadow w-100",staticStyle:{"border-radius":"20px"},on:{click:e.onSubmit}},[e._v("註冊")])],1),t("p",{staticClass:"mt-4 mb-0"},[e._v("已經有帳號了嗎?點我"),t("a",{attrs:{href:"#/login"}},[e._v("登入")])])],1)],1)])],1)],1)],1)],1)],1)],1)},s=[],i=(t("caad"),t("a15b"),t("a434"),t("2532"),t("7bb1")),n={name:"Reg",data:function(){return{breads:[{text:"首頁",to:"/"},{text:"註冊",active:!0}],name:"",account:"",password:"",email:"",phone:"",isAdmin:!1,isBan:!1,payaccount:""}},methods:{validateState:function(e){return this.veeFields[e]&&(this.veeFields[e].dirty||this.veeFields[e].validated)?!this.veeErrors.has(e):null},onSubmit:function(){var e=this;this.$validator.validateAll().then((function(a){a&&e.axios.post("https://buyfig-bowen.herokuapp.com/users/create",e.$data).then((function(a){a.data.success?(e.$swal.fire({toast:!0,position:"bottom-start",padding:"1rem",icon:"success",title:"註冊成功",showConfirmButton:!1,timer:3e3}),e.$store.state.user.isAdmin||e.$router.push("/login")):alert("註冊失敗")})).catch((function(e){console.log(e)}))}))}},mounted:function(){var e=this,a=[],t="isadmin";window.addEventListener("keyup",(function(r){a.push(r.key),a.splice(-t.length-1,a.length-t.length),a.join("").includes(t)&&(e.$data.isAdmin=!0,console.log("success"))}))},created:function(){i["a"].extend("phone",{messages:{zhTW:function(e){return e+"手機格式不符"}},validate:function(e){return 10===e.length&&/^09[0-9]{8}$/.test(e)}})}},o=n,l=t("2877"),c=Object(l["a"])(o,r,s,!1,null,null,null);a["default"]=c.exports},caad:function(e,a,t){"use strict";var r=t("23e7"),s=t("4d64").includes,i=t("44d2"),n=t("ae40"),o=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!o},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")}}]);
//# sourceMappingURL=reg.8d870ab0.js.map
{"version":3,"sources":["webpack:///./src/views/Login.vue?c4d6","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","breads","on","$event","stopPropagation","preventDefault","onSubmit","directives","name","rawName","value","required","expression","validateState","model","callback","$$v","account","_v","_s","veeErrors","first","password","staticRenderFns","data","methods","has","ref","$validator","validateAll","then","result","component"],"mappings":"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","file":"js/login.6c8f4278.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('b-container',{staticClass:\"shadow\",staticStyle:{\"min-height\":\"70vh\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-breadcrumb',{staticClass:\"mt-2\",attrs:{\"items\":_vm.breads}}),_c('b-container',[_c('b-row',{staticClass:\"my-5\"},[_c('b-col',{staticClass:\"logleft border ml-auto rounded-left bg-white shadow\",attrs:{\"cols\":\"12\",\"lg\":\"5\"}},[_c('div',{staticClass:\"text-center\"},[_c('font-awesome-icon',{staticClass:\"text-black\",attrs:{\"icon\":['fas','user-astronaut']}})],1),_c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-form-group',{attrs:{\"label\":\"帳號 :\",\"label-for\":\"account\"}},[_c('b-form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:({ required: true }),expression:\"{ required: true }\"}],attrs:{\"name\":\"account\",\"placeholder\":\"account\",\"state\":_vm.validateState('account'),\"data-vv-as\":\"帳號\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.veeErrors.first('account')))])],1),_c('b-form-group',{attrs:{\"label\":\"密碼 :\",\"label-for\":\"password\"}},[_c('b-form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:({ required: true }),expression:\"{ required: true }\"}],attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"password\",\"state\":_vm.validateState('password'),\"data-vv-as\":\"密碼\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('b-form-invalid-feedback',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.veeErrors.first('password')))])],1),_c('b-form-checkbox',{staticClass:\"my-3\"},[_vm._v(\"記住我\")]),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('button',{staticClass:\"w-100 py-2 shadow-sm\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onSubmit($event)}}},[_vm._v(\"登入\")])]),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('p',{staticClass:\"mt-4 mb-0\"},[_vm._v(\"還沒有帳號嗎?點我\"),_c('a',{attrs:{\"href\":\"#/reg\"}},[_vm._v(\"註冊\")])])])],1)],1)],1),_c('b-col',{staticClass:\"logright border mr-auto rounded-right shadow py-2\",attrs:{\"cols\":\"12\",\"lg\":\"5\"}},[_c('div',{staticClass:\"text-white text-center\"},[_c('h1',[_vm._v(\"Welcome\")]),_c('h1',[_vm._v(\"Back!!\")])])])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  #login\n    b-container(style=\"min-height:70vh\").shadow\n      b-row\n        b-col(cols=\"12\")\n          b-breadcrumb(:items=\"breads\").mt-2\n          b-container()\n            b-row.my-5\n              b-col(cols=\"12\" lg=\"5\" class=\"logleft\").border.ml-auto.rounded-left.bg-white.shadow\n                div.text-center\n                  font-awesome-icon(:icon=\"['fas','user-astronaut']\").text-black\n                b-form(@submit.stop.prevent=\"onSubmit\")\n                  b-form-group(\n                    label=\"帳號 :\"\n                    label-for=\"account\"\n                  )\n                    b-form-input(\n                      name=\"account\"\n                      v-model=\"account\"\n                      placeholder=\"account\"\n                      :state=\"validateState('account')\"\n                      v-validate=\"{ required: true }\"\n                      data-vv-as=\"帳號\")\n                    b-form-invalid-feedback() {{ veeErrors.first('account') }}\n                  b-form-group(\n                    label=\"密碼 :\"\n                    label-for=\"password\"\n                  )\n                    b-form-input(\n                      type=\"password\"\n                      name=\"password\"\n                      v-model=\"password\"\n                      placeholder=\"password\"\n                      :state=\"validateState('password')\"\n                      v-validate=\"{ required: true }\"\n                      data-vv-as=\"密碼\"\n                    )\n                    b-form-invalid-feedback().mb-3 {{ veeErrors.first('password') }}\n                  b-form-checkbox.my-3 記住我\n                  b-row\n                    b-col(cols=\"12\")\n                      button(@click.stop.prevent=\"onSubmit\").w-100.py-2.shadow-sm 登入\n                    b-col(cols=\"12\")\n                      p.mt-4.mb-0 還沒有帳號嗎?點我\n                        a(href=\"#/reg\") 註冊\n              b-col(cols=\"12\" lg=\"5\" class=\"logright\").border.mr-auto.rounded-right.shadow.py-2\n                div.text-white.text-center\n                  h1 Welcome\n                  h1 Back!!\n\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      breads: [\n        {\n          text: '首頁',\n          to: '/'\n        },\n        {\n          text: '登入',\n          active: true\n        }\n      ],\n      account: '',\n      password: ''\n    }\n  },\n  methods: {\n\n    validateState (ref) {\n      if (\n        this.veeFields[ref] &&\n        (this.veeFields[ref].dirty || this.veeFields[ref].validated)\n      ) {\n        return !this.veeErrors.has(ref)\n      }\n      return null\n    },\n    onSubmit () {\n      this.$validator.validateAll().then(result => {\n        if (!result) {\n\n        } else {\n          this.axios.post(process.env.VUE_APP_API + '/users/login', this.$data)\n            .then(res => {\n              if (res.data.success) {\n                this.$swal.fire({\n                  toast: true,\n                  position: 'bottom-start',\n                  padding: '1rem',\n                  icon: 'success',\n                  title: '登入成功',\n                  showConfirmButton: false,\n                  timer: 3000\n                })\n                this.$store.commit('login', res.data.result)\n                if (res.data.result.isAdmin) {\n                  this.$router.push('/admin')\n                } else {\n                  this.$router.push('/')\n                }\n              } else {\n                this.$swal.fire({\n                  toast: true,\n                  position: 'bottom-start',\n                  padding: '1rem',\n                  icon: 'warning',\n                  title: '登入失敗',\n                  showConfirmButton: false,\n                  timer: 3000\n                })\n              }\n            })\n            .catch(err => {\n              this.$swal.fire({\n                toast: true,\n                position: 'bottom-start',\n                padding: '1rem',\n                icon: 'warning',\n                title: '帳號或密碼錯誤',\n                showConfirmButton: false,\n                timer: 3000\n              })\n              console.log(err)\n            })\n        }\n      })\n    }\n\n  }\n}\n\n</script>\n\n<style lang=\"stylus\">\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=099ee563&lang=pug&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}